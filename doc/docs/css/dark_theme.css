/* docs/css/dark_theme.css */

/* 基础颜色变量：保障暗黑主题下各元素对比度与一致性 */
:root {
  --dark-bg: #1e1e1e;             /* 页面整体背景 */
  --sidebar-bg: #252526;          /* 侧边栏主背景 */
  --sidebar-text: #d0d0d0;        /* 侧边栏主文字颜色 */
  --sidebar-submenu-bg: #f0f0f0;  /* 侧边栏子菜单背景（亮色，与子菜单文字形成对比） */
  --sidebar-submenu-text: #333333;/* 侧边栏子菜单文字颜色（暗色） */
  --link-color: #5ba4e5;          /* 链接颜色 */
  --code-bg: #282c34;             /* 代码块背景色 */
  --inline-code-color: #ff9800;   /* 行内代码颜色（橙色） */
  --preprocessor-color: #81d4fa;  /* 预处理指令/头文件颜色（亮青色，增强可读性） */
  --string-color: #c8e6c9;        /* 字符串颜色（亮浅绿色，增强可读性） */
  --table-text: #999999;          /* 表格文字颜色（深灰，黑白背景均清晰） */
  --table-row-odd: #f5f5f5;       /* 表格奇数行背景（亮色模式） */
  --table-row-even: #e9e9e9;      /* 表格偶数行背景（亮色模式） */
  --table-dark-row-odd: #3a3a3a;  /* 表格奇数行背景（暗黑模式） */
  --table-dark-row-even: #4a4a4a; /* 表格偶数行背景（暗黑模式） */
  --table-header-bg: #424242;     /* 表格表头背景（暗黑模式） */
  --table-header-text: #ffffff;   /* 表格表头文字（暗黑模式，纯白增强对比） */
}

/* 页面整体暗黑主题基础样式 */
.dark-theme body {
  background-color: var(--dark-bg) !important;
  color: #f0f0f0 !important;
}

.dark-theme .wy-nav-content-wrap {
  background-color: var(--dark-bg) !important;
}

.dark-theme .wy-nav-content {
  background-color: var(--dark-bg) !important;
  color: #f0f0f0 !important;
}

/* 侧边栏主菜单样式 */
.dark-theme .wy-side-nav-search {
  background-color: var(--sidebar-bg) !important;
}

.dark-theme .wy-menu-vertical a {
  color: var(--sidebar-text) !important;
}

.dark-theme .wy-menu-vertical a:hover {
  background-color: #383838 !important;
  color: #fff !important;
}

/* 侧边栏“当前选中项”样式 */
.dark-theme .wy-menu-vertical li.current > a,
.dark-theme .wy-menu-vertical li.toctree-l1.current > a {
  background: #303030 !important;
  color: #fff !important;
}

/* 侧边栏子菜单（展开层级）样式 */
.dark-theme .wy-menu-vertical li ul {
  background-color: var(--sidebar-submenu-bg) !important;
  border-left: 2px solid #ccc !important; /* 增加左侧边框区分层级 */
}

.dark-theme .wy-menu-vertical li ul li a {
  color: var(--sidebar-submenu-text) !important;
  padding-left: 2.5em !important;
  font-weight: 500 !important;
}

.dark-theme .wy-menu-vertical li ul li a:hover {
  color: #000 !important;
  background-color: #e0e0e0 !important;
}

/* 表格基础样式（亮色模式） */
table {
  color: var(--table-text) !important;
}

table tr:nth-child(odd) {
  background-color: var(--table-row-odd) !important;
}

table tr:nth-child(even) {
  background-color: var(--table-row-even) !important;
}

table th {
  background-color: #f0f0f0 !important;
  color: var(--table-text) !important;
}

/* 暗黑模式下的表格样式覆盖 */
.dark-theme table {
  color: var(--table-text) !important;
}

.dark-theme table tr:nth-child(odd) {
  background-color: var(--table-dark-row-odd) !important;
}

.dark-theme table tr:nth-child(even) {
  background-color: var(--table-dark-row-even) !important;
}

.dark-theme table th {
  background-color: var(--table-header-bg) !important;
  color: var(--table-header-text) !important;
}

.dark-theme table td,
.dark-theme table th {
  border-color: #666 !important;
}

/* 行内代码样式（所有场景，包括表格内） */
code,
table code {
  color: var(--inline-code-color) !important;
  background-color: #f0f0f0 !important;
  padding: 0.15em 0.4em;
  border-radius: 3px;
}

.dark-theme code,
.dark-theme table code {
  background-color: var(--code-bg) !important;
}

/* 代码块整体样式 */
.dark-theme .highlight,
.dark-theme .highlight pre {
  background-color: var(--code-bg) !important;
  border: 1px solid #444 !important; /* 增加边框区分代码块 */
}

/* 代码块语法高亮：预处理指令/头文件（覆盖所有相关Pygments类） */
.dark-theme .highlight .cp,    /* #include 等预处理指令 */
.dark-theme .highlight .cpf,   /* 头文件内容（如 <stdio.h>） */
.dark-theme .highlight .cs,    /* 预处理条件 */
.dark-theme .highlight .kn,    /* 预处理关键字（如 # 符号） */
.dark-theme .highlight .k,     /* 其他关键字 */
.dark-theme .highlight .nf {   /* 函数名（补充覆盖，防止遗漏） */
  color: var(--preprocessor-color) !important;
  text-shadow: 0 0 1px rgba(255, 255, 255, 0.1) !important; /* 轻微发光增强可见性 */
}

/* 代码块语法高亮：字符串（覆盖所有相关Pygments类） */
.dark-theme .highlight .s,     /* 通用字符串 */
.dark-theme .highlight .s1,    /* 单引号字符串 */
.dark-theme .highlight .s2,    /* 双引号字符串 */
.dark-theme .highlight .sa,    /* 字符串前缀 */
.dark-theme .highlight .sb,    /* 字符串后端 */
.dark-theme .highlight .sc,    /* 字符 */
.dark-theme .highlight .sd,    /* 文档字符串 */
.dark-theme .highlight .se,    /* 转义序列 */
.dark-theme .highlight .si {   /* 插值字符串 */
  color: var(--string-color) !important;
  text-shadow: 0 0 1px rgba(255, 255, 255, 0.1) !important; /* 轻微发光增强可见性 */
}

/* 链接样式 */
.dark-theme a {
  color: var(--link-color) !important;
}

.dark-theme a:hover {
  color: #7eb6f0 !important; /* hover时更亮的蓝色 */
}